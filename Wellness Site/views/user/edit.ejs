<%- layout('layout/boilerplate') %>

<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-10 col-xl-6 bg-light rounded p-3 shadow">
            <div class="row">
                <div class="col-md col-md-4 edit-image-div">
                    <div class="m-auto my-3 user-icon d-flex justify-content-center align-items-center">
                        <% if(!currentUser.image){ %>
                        <i class="fas fa-user fa-user-icon"></i>
                        <% }else{ %>
                        <img class="edit-profile-image" src="<%= currentUser.image.thumbnail %> " alt="">
                        <% } %>
                    </div>
                </div>
                <div class="col-md col-md-8">
                    <form class="needs-validation" action="/user/profile?_method=PUT" method="POST" enctype="multipart/form-data" novalidate>
                        <label for="age" class="form-label">Age</label>
                        <div class="input-group mb-3">
                            <input required type="number" class="form-control" id="age" name="age" value=<%= currentUser.age %>>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <label for="weight" class="form-label">Weight</label>
                        <div class="input-group mb-3">
                            <input required type="number" class="form-control" id="weight" name="weight"
                                value=<%= currentUser.weight %>>
                                <div class="valid-feedback">
                                    Looks good!
                                </div>
                        </div>
                        <label for="heigth" class="form-label">Heigth</label>
                        <div class="input-group mb-3">
                            <input required type="number" class="form-control" id="heigth" name="heigth"
                                value=<%= currentUser.heigth %>>
                                <div class="valid-feedback">
                                    Looks good!
                                </div>
                        </div>
                        <label for="gender" class="form-label">Gender</label>
                        <div class="input-group mb-3">
                            <select class="form-select" name="gender" id="gender" required>
                                <% genderTable.forEach(gender=>{ %>
                                <% if(currentUser.gender === gender){ %>
                                <option value="<%= gender %>" selected><%= gender %></option>
                                <% }else{ %>
                                <option value="<%= gender %>"><%= gender %></option>
                                <% } %>
                                <% }) %>
                            </select>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <label for="goal" class="form-label">Your goal</label>
                        <div class="input-group mb-3">
                            <select class="form-select" name="goal" id="goal" required>
                                <% goalsTable.forEach(goal=>{ %>
                                <% if(currentUser.goal === goal){ %>
                                <option value="<%= goal %>" selected><%= goal %> </option>
                                <% }else{ %>
                                <option value="<%= goal %>"><%= goal %> </option>
                                <% } %>
                                <% }) %>
                            </select>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="image" class="form-label">Choose another image</label>
                            <input class="form-control" type="file" id="image" name="image">
                        </div>
                        <div class="">
                            <button class="btn btn-warning">Save changes</button>
                        </div>
                    </form>
                </div>
            </div>


        </div>
    </div>
</div>